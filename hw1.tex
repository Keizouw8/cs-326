\documentclass[letterpaper]{article}
\usepackage{titlesec}
\usepackage{geometry}
\usepackage{mathtools}
\usepackage{amssymb}
\usepackage{amsmath}
\usepackage{listings}
\usepackage{changepage}
\usepackage{color}
\usepackage{qtree}

\definecolor{dkgreen}{rgb}{0,0.6,0}
\definecolor{mauve}{rgb}{0.58,0,0.82}

\title{Homework 1}
\author{Keizou Wang}
\date{February 6, 2025}

\titleformat{\section}{\normalfont\normalsize}{\bfseries\thesection.}{1em}{}
\titleformat{\subsection}{\normalfont\normalsize}{(\textit{\alph{subsection}})}{1em}{}

\lstset{
	language=C++,
	basicstyle={\ttfamily},
	keywordstyle=\color{blue},
	commentstyle=\color{dkgreen},
	stringstyle=\color{mauve},
	tabsize=4,
	showstringspaces=false
}

\begin{document}

\maketitle

\section{Errors in a computer program can be classified according to when they are detected and, if they are detected at compile time, what part of the compiler detects them. Using your favorite programming language, give an example of:}
\subsection{A lexical error, detected by the scanner.}
\begin{adjustwidth}{2.35em}{0pt}
\begin{lstlisting}
#include <iostream>
int main(){
	in x[] = {1, 2, 3}; // "in" is an invalid token
	std::cout << x[0] << std::endl;
}
\end{lstlisting}
\end{adjustwidth}
\subsection{A syntax error, detected by the parser.}
\begin{adjustwidth}{2.35em}{0pt}
\begin{lstlisting}
#include <iostream>
int main(){
	int {1, 2, 3} = x[]; // value is left of the assign operator
	std::cout << x[1] << std::endl;
}
\end{lstlisting}
\end{adjustwidth}
\subsection{A static semantic error, detected (at compile-time) by semantic analysis.}
\begin{adjustwidth}{2.35em}{0pt}
\begin{lstlisting}
#include <iostream>
int main(){
	std::cout << x[2] << std::endl; // x is not defined yet
	int x[] = {1, 2, 3};
}
\end{lstlisting}
\end{adjustwidth}
\subsection{A dynamic semantic error, detected (at run-time) by code generated by the compiler.}
\begin{adjustwidth}{2.35em}{0pt}
\begin{lstlisting}
#include <iostream>
int main(){
	int x[] = {1, 2, 3};
	std::cout << x[3] << std::endl; // index 3 is out of bounds
}
\end{lstlisting}
\end{adjustwidth}

\section{For each of the following languages, write a regular expression that describes the language.}
\subsection{The set of strings that begin with $ab$ and end with $ba$, over alphabet ${a, b}$. Note: the string $aba$ is in the language.}
\begin{adjustwidth}{2.35em}{0pt}
\begin{verbatim}
a b (a* b)* a
\end{verbatim}
\end{adjustwidth}
\subsection{The set of natural numbers divisible by 5.}
\begin{adjustwidth}{2.35em}{0pt}
\begin{verbatim}
digit = 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9
5 | digit+ (digit | 0)* (5 | 0)
\end{verbatim}
\end{adjustwidth}
\subsection{The set of strings that consist of an even number of $a$’s (including none), over alphabet ${a}$.}
\begin{adjustwidth}{2.35em}{0pt}
\begin{verbatim}
(a a)*
\end{verbatim}
\end{adjustwidth}

\section{For each of the following languages, write a grammar that describes the language.}
\subsection{The set of strings that begin with $ab$ and end with $ba$, over alphabet ${a, b}$. Note: the string $aba$ is in the language.}
\begin{adjustwidth}{2.35em}{0pt}
\begin{tabular}{l c l}
A & $\rightarrow$ & aba $|$ abBba \\
B & $\rightarrow$ & BB $|$ a $|$ b
\end{tabular}
\end{adjustwidth}
\subsection{Strings that consist of a sequence of $a$’s followed by a sequence of $b$’s, where the number of $a$’s is even, and equal to the number of $b$’s, over alphabet $\{a,b\}$. In other words, the language \{$a^nb^n $ $|$ $ n \geq 0$ and $n$ is even\}.}
\begin{adjustwidth}{2.35em}{0pt}
\begin{tabular}{l c l}
A & $\rightarrow$ & aaAbb $|$ $\epsilon$
\end{tabular}
\end{adjustwidth}
\subsection{The set of strings of parentheses (), brackets [], and braces \{\} that are properly nested. For instance, ()[\{\}()] is properly nested, while ([)] is not.}
\begin{adjustwidth}{2.35em}{0pt}
\begin{tabular}{l c l}
A & $\rightarrow$ & () $|$ [] $|$ \{\} $|$ (A) $|$ [A] $|$ \{A\} $|$ AA
\end{tabular}
\end{adjustwidth}

\section{Consider the following grammar, where P is the start symbol: \\\\
\begin{tabular}{l c l}
P & $\rightarrow$ & [B, P] $|$ B \\
B & $\rightarrow$ & D $|$ (P) \\
D & $\rightarrow$ & x $|$ y $|$ z
\end{tabular} \\\\
For each of the following strings, specify whether the string belongs to the language generated by the grammar, and if so, indicate a derivation:}
\subsection{z}
\begin{adjustwidth}{2.35em}{0pt}
The string belongs to the language generated by the grammar. \\
P $\rightarrow$ B $\rightarrow$ D $\rightarrow$ z
\end{adjustwidth}
\subsection{(x)}
\begin{adjustwidth}{2.35em}{0pt}
The string belongs to the language generated by the grammar. \\
P $\rightarrow$ B $\rightarrow$ (P) $\rightarrow$ (B) $\rightarrow$ (D) $\rightarrow$ (x)
\end{adjustwidth}
\subsection{[y]}
\begin{adjustwidth}{2.35em}{0pt}
The string does not belong to the language generated by the grammar.
\end{adjustwidth}
\subsection{([x, y])}
\begin{adjustwidth}{2.35em}{0pt}
The string belongs to the language generated by the grammar. \\
P $\rightarrow$ B $\rightarrow$ (P) $\rightarrow$ ([B, P]) $\rightarrow$ ([D, P])  $\rightarrow$ ([x, P]) $\rightarrow$ ([x, B]) $\rightarrow$ ([x, D]) $\rightarrow$ ([x, y])
\end{adjustwidth}
\subsection{[(x), y]}
\begin{adjustwidth}{2.35em}{0pt}
The string belongs to the language generated by the grammar. \\
P $\rightarrow$ [B, P] $\rightarrow$ [(P), P] $\rightarrow$ [(B), P] $\rightarrow$ [(D), P]  $\rightarrow$ [(x), P] $\rightarrow$ [(x), B] $\rightarrow$ [(x), D] $\rightarrow$ [(x), y]
\end{adjustwidth}

\section{Consider the following grammar for simple assignment statements: \\\\
\begin{tabular}{l c l}
AssignStmt & $\rightarrow$ & Var = E \\
Var & $\rightarrow$ & id $|$ id [ Index ] \\
Index & $\rightarrow$ & E \\
E & $\rightarrow$ & Var $|$ nr $|$ E + E $|$ E $-$ E $|$ E $*$ E $|$ E / E $|$ (E)
\end{tabular}}
\subsection{Build a parse tree for each of the following assignment statements: \\
\texttt{
a[2] = b + 1 \\
x = v[k-3]
}}
\Tree[.\texttt{a[2] = b + 1}
	[.AssignStmt
		[.Var
			{id (\texttt{a})}
			\texttt{[}
			[.Index
				[.E
					{nr (\texttt{2})}
				]
			]
			\texttt{]}
		]
		\texttt{=}
		[.E
			[.E
				[.Var
					{id (\texttt{b})}
				]
			]
			\texttt{+}
			[.E
				{nr (\texttt{1})}
			]
		]
	]
] \\\\

\Tree[.\texttt{x = v[k-3]}
	[.AssignStmt
		[.Var
			{id (\texttt{x})}
		]
		\texttt{=}
		[.E
			[.Var
				{id (\texttt{v})}
				\texttt{[}
				[.Index
					[.E
						{nr (\texttt{k})}
						\texttt{-}
						{nr (\texttt{3})}
					]
				]
				\texttt{]}
			]
		]
	]
]
\subsection{Rewrite the grammar so that it allows multi-dimensional arrays (instead of just one index, allow a list of indices separated by commas). For instance, each of the following should be a valid string under the new grammar: \\
\texttt{
m[5,3] = x \\
y = p[i+1,j,k-1]
}}
\begin{adjustwidth}{2.35em}{0pt}
\begin{tabular}{l c l}
AssignStmt & $\rightarrow$ & Var = E \\
Var & $\rightarrow$ & id $|$ id [ Index ] \\
Index & $\rightarrow$ & E $|$ E, Index \\
E & $\rightarrow$ & Var $|$ nr $|$ E + E $|$ E $-$ E $|$ E $*$ E $|$ E / E $|$ (E)
\end{tabular}
\end{adjustwidth}
	

\section{(Extra Credit) Write a regular expression that describes the following language: the
set of strings that that contain an even number of $a$’s (including none), not necessarily
adjacent, over alphabet $\{a,b\}$.}
\begin{adjustwidth}{2.35em}{0pt}
\begin{verbatim}
b* (a b* a b*)*
\end{verbatim}
\end{adjustwidth}

\end{document}